# small-app-server

#### 项目描述

+ 用node.js以express框架构建的服务端
+ http://127.0.0.1:3000/api/

#### 接口文档

##### 用户:

1. 登录

| 地址         | /users/login       |
| ------------ | ------------------ |
| 描述         | 用户登录           |
| 请求方式     | POST               |
| 参数         | user_name,user_pwd |
| 返回数据格式 | JSON               |
| 返回数据样例 |                    |

2. 注册

| 地址         | /users/register                                   |
| ------------ | ------------------------------------------------- |
| 描述         | 用户注册                                          |
| 请求方式     | POST                                              |
| 参数         | user_name,user_pwd,nick_name,user_avatar:"可不传" |
| 返回数据格式 | JSON                                              |
| 返回数据样例 |                                                   |

3.用户头像

| 地址         | /users/user_avatar                                           |
| ------------ | ------------------------------------------------------------ |
| 描述         | 上传用户头像                                                 |
| 请求方式     | POST                                                         |
| 参数         | user_avatar：file        {"content-type": "multipart/from-data"} |
| 返回数据格式 | JSON                                                         |
| 返回数据样例 |                                                              |

4. token验证

| 地址         | /users/verifyToken                        |
| ------------ | ----------------------------------------- |
| 描述         | token验证                                 |
| 请求方式     | POST                                      |
| 参数         | header:{Authorization: `Bearer ${token}`} |
| 返回数据格式 | JSON                                      |
| 返回数据样例 |                                           |

##### 图片：

1. 轮播图

| 地址         | /pics/getlunbo |
| ------------ | -------------- |
| 描述         | 获取首页轮播图 |
| 请求方式     | GET            |
| 参数         | 无             |
| 返回数据格式 | JSON           |
| 返回数据样例 |                |

2. 获取图片category

| 地址         | /pics/getimgcategory |
| ------------ | -------------------- |
| 描述         | 获取图片分类         |
| 请求方式     | GET                  |
| 参数         | 无                   |
| 返回数据格式 | JSON                 |
| 返回数据样例 |                      |

3. 获取图片列表

| 地址         | /pics/getimages/:cateid |
| ------------ | ----------------------- |
| 描述         | 获取图片列表            |
| 请求方式     | GET                     |
| 参数         | cateid                  |
| 返回数据格式 | JSON                    |
| 返回数据样例 |                         |

4. 图片详情获取

| 地址         | /pics/getimageInfo/:imgid |
| ------------ | ------------------------- |
| 描述         | 图片详情获取              |
| 请求方式     | GET                       |
| 参数         | imgid                     |
| 返回数据格式 | JSON                      |
| 返回数据样例 |                           |

5. 获取缩略图

| 地址         | /pics/getgoodsthum/:imgid |
| ------------ | ------------------------- |
| 描述         | 获取商品缩略图            |
| 请求方式     | GET                       |
| 参数         | imgid                     |
| 返回数据格式 | JSON                      |
| 返回数据样例 |                           |

##### 新闻:

1. 获取新闻列表

| 地址         | /news/getnewslist |
| ------------ | ----------------- |
| 描述         | 获取新闻列表      |
| 请求方式     | GET               |
| 参数         | 无                |
| 返回数据格式 | JSON              |
| 返回数据样例 |                   |

2. 获取新闻详情

| 地址         | /news/getnew/:newid |
| ------------ | ------------------- |
| 描述         | 获取新闻详情        |
| 请求方式     | GET                 |
| 参数         | newid               |
| 返回数据格式 | JSON                |
| 返回数据样例 |                     |

##### 商品:

1. 获取商品列表

| 地址         | /goods/getlist |
| ------------ | -------------- |
| 描述         | 获取商品列表   |
| 请求方式     | GET            |
| 参数         | 无             |
| 返回数据格式 | JSON           |
| 返回数据样例 |                |

2. 获取商品详情

| 地址         | /goods/getinfo/:id |
| ------------ | ------------------ |
| 描述         | 获取新闻列表       |
| 请求方式     | GET                |
| 参数         | id                 |
| 返回数据格式 | JSON               |
| 返回数据样例 |                    |

3. 获取商品详情页轮播图

| 地址         | /goods/getgoodslunbo/:id |
| ------------ | ------------------------ |
| 描述         | 获取新闻列表             |
| 请求方式     | GET                      |
| 参数         | id                       |
| 返回数据格式 | JSON                     |
| 返回数据样例 |                          |

##### 评论:

1. 提交评论

| 地址         | /cmts/postcmts/:artid |
| ------------ | --------------------- |
| 描述         | 提交新闻评论          |
| 请求方式     | POST                  |
| 参数         | artid                 |
| 返回数据格式 | JSON                  |
| 返回数据样例 |                       |

2. 获取评论

| 地址         | /cmts/getcmts/:artid?pageindex=1 |
| ------------ | -------------------------------- |
| 描述         | 获取新闻评论(数据太少一次给三条) |
| 请求方式     | GET                              |
| 参数         | artid ?pageindex                 |
| 返回数据格式 | JSON                             |
| 返回数据样例 |                                  |
